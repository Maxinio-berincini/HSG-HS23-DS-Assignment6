<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <h1>Search Movies in Solid</h1>
    <div>
        <form action="/movies" method="get">
            <input name="url" type="text" id="url">
            <input type="submit" value="Search in URL">
        </form>
    </div>
    <div>
        <form action="/group-movies" method="get">
            <input type="submit" value="get Movies of DefinitelyNotAVirus">
        </form>
  <div>
    <label>Movies:</label>
    <ul id="movie_list"></ul>
  </div>
  <script src="/socket.io/socket.io.js"></script>
<script>
var socket = io();
socket.on('update', (msg) => {
  console.log("receive message");
    message = msg['message']
    console.log("message: ", message)
    name = message["name"]
    image_url = message["image"]
    const node = document.createElement("li");
    const divNode = document.createElement("div");
    const textNode = document.createTextNode(name);
    const imageNode = document.createElement("img");
    const brNode = document.createElement("br");
    imageNode.src = image_url
    divNode.appendChild(textNode);
    divNode.appendChild(brNode);
    divNode.appendChild(imageNode)
    node.appendChild(divNode)
    document.getElementById("movie_list").appendChild(node);
  });
</script>
<style>
  img {
    width: 250px;
    height: 375px;
  }
</style>

</body>
</html>